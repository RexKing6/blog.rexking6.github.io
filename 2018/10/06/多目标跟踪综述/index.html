<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.rexking6.top","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#37c6c0","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"YS7HT61SEB","apiKey":"0fd1eba022e7883c76ff4a71aee2acdc","indexName":"blog_NAME","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"找不到关于 ${query} 的文章","hits_stats":"共找到 ${hits} 篇文章，花了 ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="...">
<meta property="og:type" content="article">
<meta property="og:title" content="多目标跟踪综述">
<meta property="og:url" content="https://blog.rexking6.top/2018/10/06/%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%BB%BC%E8%BF%B0/">
<meta property="og:site_name" content="RexKing6&#39;s Note">
<meta property="og:description" content="...">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538824653.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538824694.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538819944.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538820806.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538820831.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538822360.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538822746.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538823080.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538832799.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833047.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833078.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833116.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833208.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833225.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833301.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833317.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833365.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833390.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833403.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833413.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833445.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833470.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833495.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833529.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833547.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833565.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538833577.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538824511.png">
<meta property="og:image" content="http://image.rexking6.top/img/clip1538824542.png">
<meta property="article:published_time" content="2018-10-06T09:48:57.000Z">
<meta property="article:modified_time" content="2021-07-10T11:39:25.888Z">
<meta property="article:author" content="Run-Qing Chen">
<meta property="article:tag" content="计算机视觉">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://image.rexking6.top/img/clip1538824653.png">

<link rel="canonical" href="https://blog.rexking6.top/2018/10/06/%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%BB%BC%E8%BF%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>多目标跟踪综述 | RexKing6's Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="RexKing6's Note" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">RexKing6's Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/rexking6" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.rexking6.top/2018/10/06/%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%BB%BC%E8%BF%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Run-Qing Chen">
      <meta itemprop="description" content="覆苍天以为衾，卧大地以为庐。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RexKing6's Note">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          多目标跟踪综述
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-10-06 17:48:57" itemprop="dateCreated datePublished" datetime="2018-10-06T17:48:57+08:00">2018-10-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-10 19:39:25" itemprop="dateModified" datetime="2021-07-10T19:39:25+08:00">2021-07-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" itemprop="url" rel="index"><span itemprop="name">计算机视觉</span></a>
                </span>
            </span>

          
            <span id="/2018/10/06/%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%BB%BC%E8%BF%B0/" class="post-meta-item leancloud_visitors" data-flag-title="多目标跟踪综述" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>这学期选了王菡子老师的《视频分析前沿》，使用opencv-python编写了多目标跟踪，看了一些单目标跟踪和多目标跟踪的综述，作下记录，不过opencv中的多目标跟踪是采用多个单目标跟踪模型完成的，没有考虑群体运动等模型。</p>
<p>综合转载以下文章：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/YiXiaoZhou/p/6013360.html">多目标跟踪 综述(一)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/YiXiaoZhou/p/6016759.html">多目标跟踪 综述(二)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/YiXiaoZhou/p/6018855.html">多目标跟踪 综述(三)</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU4MjQ3MDkwNA==&amp;mid=2247486576&amp;idx=1&amp;sn=5f8e0e08ffcca70d42e370f548eefca2&amp;chksm=fdb691e7cac118f1d6f0ec25582f0f845b48af27795a52d34352e02a58e74b822919a9026fbb&amp;scene=21#wechat_redirect">视觉多目标跟踪算法综述（上）-附开源代码下载链接整理</a></li>
</ul>
<h1 id="MTT简介"><a href="#MTT简介" class="headerlink" title="MTT简介"></a>MTT简介</h1><p>目标跟踪是机器视觉中一类被广为研究的重要问题，分为单目标跟踪与多目标跟踪。前者跟踪视频画面中的单个目标，后者则同时跟踪视频画面中的多个目标，得到这些目标的运动轨迹。</p>
<p>基于视觉的目标自动跟踪在智能监控、动作与行为分析、自动驾驶等领域都有重要的应用。例如，在自动驾驶系统中，目标跟踪算法要对运动的车、行人、其他动物的运动进行跟踪，对它们在未来的位置、速度等信息作出预判。</p>
<p>目标跟踪算法可以进行轨迹特征的自动分析和提取，以弥补视觉目标检测的不足，有效的去除错误的检测，增加遗漏的检测，为进一步的行为分析提供基础。相对于多目标跟踪算法，视觉单目标跟踪算法研究的更为广泛，当前解决的相对更好。典型的如Mean shift算法，用卡尔曼滤波、粒子滤波进行状态预测，TLD等基于在线学习的跟踪，KCF等基于相关性滤波的算法等。</p>
<p>对于单目标跟踪算法的测试视频来说，存在一个先验假设是目标总是在摄像机视场范围内，因此即使把矩形框固定在初始位置，有时候仍然能得到一个看起来还好的跟踪结果(如图)。</p>
<p><img src="http://image.rexking6.top/img/clip1538824653.png" alt=""></p>
<p>多目标跟踪问题没有上述的先验假设，一般情况下，多目标跟踪的对象位置变化很大，跟踪对象可以从场景入口进入，从出口离开，跟踪目标个数不固定。另外，多目标跟踪问题通常追踪给定类型的多个对象，同类对象具有一定的外观轮廓相似性，如下图跟踪场景：</p>
<p><img src="http://image.rexking6.top/img/clip1538824694.png" alt=""></p>
<p>多目标跟踪，即Multiple Object Tracking(MOT),也称为Multiple Target Tracking(MTT)。其主要任务是给定一个图像序列，找到图像序列中运动的物体，并将不同帧中的运动物体一一对应(Identity),然后给出不同物体的运动轨迹。这些物体可以是任意的，如行人、车辆、运动员、各种动物等等，而研究最多的是“行人跟踪”。这是因为首先“行人”是典型的非刚体目标，相对于刚体目标难度更大，其次在实际应用中行人的检测跟踪更具有商业价值。 据不完全统计，至少75%的多目标跟踪研究是在研究行人跟踪。</p>
<p>在计算机视觉的三层结构中，目标跟踪属于中间层，是其他的高层任务（如动作识别，行为分析等）的基础。而目标跟踪的主要应用包括：</p>
<ol>
<li><p>视频监控。检测异常行为，节省大量的人力物力。</p>
</li>
<li><p>人机交互。对于复杂场景中目标交互的识别与处理。</p>
</li>
<li><p>虚拟现实和增强现实。比如游戏中角色运动的设置等。</p>
</li>
<li><p>医学图像。</p>
</li>
</ol>
<p>目标跟踪又包括单目标跟踪和多目标跟踪。单目标跟踪可以通过目标的表观建模或者运动建模，以处理光照、形变、遮挡等问题，而多目标跟踪问题就要复杂得多，除了单目标跟踪回遇到的问题外，还需要目标间的关联匹配。另外在多目标跟踪任务中经常会碰到 目标的频繁遮挡、轨迹开始终止时刻未知、目标太小、表观相似、目标间交互、低帧率等等问题。所以MOT问题更加棘手。</p>
<p>在介绍MOT问题solutions的一般思路之前，先了解一些术语。</p>
<ul>
<li><strong>目标</strong>: 在一幅图像中，明显区别于周围环境的闭合区域往往被称为目标，当然这些目标最好具有一定的物理意义。</li>
<li><strong>检测</strong>: 给出目标在图像中的位置的过程称为检测。检测方法很多，比如模板匹配，对于视频中运动目标检测，可以通过帧间差分法、背景减除法、光流法等等实现。</li>
<li><strong>跟踪</strong>:   在连续图像序列中完成对目标的检测，并把物理意义下的同一目标相关联的过程。</li>
<li><strong>检测响应</strong>: 也称为“检测假设”、“检测观测量”。（detection response,detection hypotheses,detection observations）。是检测过程的输出量。</li>
<li><strong>轨迹(Trajectory)</strong>:MOT系统的输出量，一条轨迹对应这一个目标在一个时间段内中的位置序列。</li>
<li><strong>小段轨迹(Tracklet)</strong>:形成Trajectory过程中的轨迹片段。完整的Trajectory是由属于同一物理目标的Tracklets构成的。</li>
<li><strong>数据关联</strong>: 数据关联是多目标跟踪任务中经常使用的典型的处理方法，用于解决目标间的匹配问题，这里的目标可以是detection responses，也可以是tracklets。</li>
</ul>
<p>注： 所谓的“物理目标”，就是具有相同物理意义的目标，比如两幅图像都出现了“张三”、“李四”，那么两个“张三”就是同一物理目标，虽然有可能两幅图像中“张三”的形状、表观都发生了很大的变化。</p>
<p><img src="http://image.rexking6.top/img/clip1538819944.png" alt=""></p>
<h1 id="MTT的形式化表达"><a href="#MTT的形式化表达" class="headerlink" title="MTT的形式化表达"></a>MTT的形式化表达</h1><p>给定图像序列$\{I_1,I_2,…,I_t,…\}$，每幅图像中目标的个数为$M_t$，每个目标的状态使用$s_t^i$表示，这里的状态可以有位置、大小、速度、表观等组成，那么每幅图像中所有目标状态表示为$S_t=\{s_t^1,s_t^2,…,s_t^M\}$，对应的第$i$个目标的trajectory表示为$s_{1:t}^i=\{s_t^1,s_t^2,…,s_t^i\}$，所有图像中目标组成的状态序列为$S_{1:t}=\{S_1,S_2,…,S_t\}$。</p>
<p>对于detection observations可以对应使用$o_t^i$，$o_{1:t}^i$，$O_{1:t}$表示。</p>
<p>那么MTT任务，即根据detection responses找出目标的$trajectory(S_{1:t})$,可以</p>
<script type="math/tex; mode=display">S_{1:t}=argmax_{S_{1:t}}P(S_{1:t}|O_{1:t})</script><p>即后验概率问题。</p>
<p>这个形式有两种实现方法：probabilistic inference 和 deterministic optimization。</p>
<p>其中probabilistic方法适合online tracking，每一幅图像的处理仅和之前的结果有关，类似于Hidden Markov Model，操作分为两个步骤：预测和更新</p>
<ul>
<li>预测：$P(S_t|O_{1:t-1})=\int P(S_t|S_{t-1})P(S_{t-1}|O_{1:t-1})$</li>
<li>更新：$P(S_t|O_{1:t}) \propto P(O_t|S_t)P(S_t|O_{1:t-1})$</li>
</ul>
<p>这类方法有粒子滤波(Praticle Filter)、蒙特卡洛模拟退火(MCMC)等。</p>
<p>另一个deterministic optimization则是利用了当前帧的前后帧信息进行最优化求解，可以通过直接优化$P(O_{1:t}|S_{1:t})$替代原问题，也可以通过直接求解相关的能量函数求解。</p>
<p>具体的方法包括二分图匹配、动态规划、最小流\最大割方法和最大权重独立集等方法。</p>
<h1 id="MTT方法的分类"><a href="#MTT方法的分类" class="headerlink" title="MTT方法的分类"></a>MTT方法的分类</h1><p>MTT方法的分类方法有很多，不同的分类角度对应着不同的分类结果。</p>
<ol>
<li>初始化的角度<br>主要强调的是目标式如何获得的，可以分为Detection　Based Tracking (DBT) 和Detection Free Tracking (DFT)。如下图</li>
</ol>
<p><img src="http://image.rexking6.top/img/clip1538820806.png" alt=""></p>
<p>DBT是指在跟踪之前每一幅图像中目标都是detected，也就是说MOT过程包含一个独立的detection过程。这种方法性能比较依赖于detectors的好坏。<br>DFT需要人工标定第一帧图像中的目标，之后的过程中边检测目标边跟踪目标。</p>
<p>DFT和DBT相比较，DBT使用的更多。主要原因在于DFT需要人工标定目标，对于非第一帧出现的目标或者中间帧消失的目标没办法处理。而DFT相对于DBT的有点在于对目标类型事先要求不高，由人工指定，而DBT的目标类型则由分类器决定。</p>
<ol>
<li>处理过程的角度<br>数据的处理方式可以分为Online tracking和offline tracking。如下图示意</li>
</ol>
<p><img src="http://image.rexking6.top/img/clip1538820831.png" alt=""></p>
<p>一般而言 online tracking更适用于实际情况，即视频一般时序列化得到。但是offline tracking更可能得到全局最优解。所以许多方法采用的是在较小的时间片段内使用offline tracking的方法进行折衷。</p>
<ol>
<li>数学的角度<br>即前面提到的probability inference和deteministic optimization。</li>
</ol>
<p>总结：起始可以发现不同的分类之间是存在交叉的，比如DFT就是online tracking的过程。当然DBT也存在online tracking方式，比如两帧关联。另外，实际应用中，一般大多数online tracking方法都是probability inference方法，而deterministinc optimization对应着offline tracking。</p>
<ol>
<li>应用的角度<br>a. 运动场景中，比如运动员的检测跟踪。这个应用中难点体现在数据上，拍摄的图像存在这各种角度、尺寸的变换，而且，同一队伍的运动员因为衣服相同，导致表观难以区分。 但赛场和背景也存在着显著的边界特性以及不同队伍间表观已区分性也为跟踪带来了有用的信息。<br>b. 航拍场景中， 主要难点在于：目标太小，帧率太低，目标分布密度太大。这类问题处理时一般context、velocity等提供的信息比较多。</li>
</ol>
<p>泛化的MTT，一般DBT方法要求预先训练好的detector，这就导致跟踪目标的类型时确定的。而最近有学者研究针对于任意类型目标的MTT方法，比如在第一帧中人工标定一个目标，然后在前几帧中检测出了该目标类似的所有目标，使用这些目标训练分类器，后续类似于DBT过程，这样MTT方法就可以针对于不同的视频数据处理了。</p>
<h1 id="MTT方法包含的component"><a href="#MTT方法包含的component" class="headerlink" title="MTT方法包含的component"></a>MTT方法包含的component</h1><p>一般MTT方法都会包含个components，分别是Appearance Model，Motion Model，Interaction Model, Exclusion Model 和Occlusion Model。</p>
<h2 id="Appearance-Model"><a href="#Appearance-Model" class="headerlink" title="Appearance Model"></a>Appearance Model</h2><p>即表观模型，这里既包含目标的视觉表示，也包括目标间相似性、相异性的度量。</p>
<p>视觉表示肯定是基于图像特征了。这里先介绍一些特征。</p>
<ul>
<li><p>point feature, 比如Harris角点、SIFT角点、SURF角点等等</p>
</li>
<li><p>Color/intensity features, 比如最简单的模板、颜色直方图等</p>
</li>
<li><p>Optical flow, 光流特征蕴含了时域信息</p>
</li>
<li><p>Gradient/pixel-comparison features, 基于梯度的特征，典型的如HOG特征</p>
</li>
<li><p>Region covariance matrix features, 该特征对于光照和尺度变换相对鲁棒</p>
</li>
<li><p>Depth, 即深度信息，对于视频这种3D数据作用还是蛮大的</p>
</li>
<li><p>others，针对于具体应用的特征，比如对于行人的步态特征等</p>
</li>
</ul>
<p>总之呢，每个特征都不是万能的，有优点也有缺点，比如Color histogram简单，容易计算相似性，但其仅仅是统计信息，丢失了区域像素的位置信息。 Points features对于平面内变换非常有效，但对于遮挡和out-of-plane变化就无能无力了。 HOG等梯度特征显然对光照比较鲁棒，但对于遮挡和形变效果很差，Region covariance matrix鉴别能力很强，但计算太复杂。 Depth则很难获得精确值。</p>
<p>接下来介绍一些目标表示方法</p>
<h3 id="像素模板表示"><a href="#像素模板表示" class="headerlink" title="像素模板表示"></a>像素模板表示</h3><p>这是最基本的方法，直接使用目标所在区域的像素矩阵表示目标。目标间的相似度使用归一化交叉相关系数的函数表征(NCC,Normalized Cross Correlation)。比如已知目标的模板表示$p_0$，则候选目标与源目标的相似度可以定义为$P_{data}(P) \propto exp(-(1-NCC(p,p_0))^2)$。采用模板匹配的方法进行跟踪时，一般每一帧都要更新模板，简单易行，但显然这种方法对于遮挡、光照等问题比较敏感。</p>
<h3 id="颜色直方图表示"><a href="#颜色直方图表示" class="headerlink" title="颜色直方图表示"></a>颜色直方图表示</h3><p>由于颜色直方图能够很方便的获得目标区域的统计信息，颜色直方图被广泛采用。 颜色直方图之间的相似性或者相异性一般和<br>直方图的巴氏系数有关(Bhattacharyya coefficient)。</p>
<p>比如我们前面介绍的基于人体部件的行人跟踪方法中，两个tracklets的相似度定义为</p>
<script type="math/tex; mode=display">S(T_i,T_j)=exp(-D(c_i,c_j))</script><p>其中$D(c_i,c_j)=mean\{D(c_i^k,c_j^k)|k=FB,HT,HS\}表示巴氏系数，$c$表示直方图。</p>
<p>再比如zhang中，假设已知目标$o_i$，$o_j$的颜色直方图$c_i$，$c_j$，则目标之间的相似度刻画为</p>
<script type="math/tex; mode=display">P(o_i|o_j)=\frac{N(D_{ij};D_s, \sigma_s^2)}{N(D_{ij};D_s, \sigma_s^2)+N(D_{ij};D_d, \sigma_d^2)}</script><p>其中$D_{ij}$表示巴氏距离，$\sigma_s^2$，$\sigma_d^2$，$D_s$，$D_d$别表示目标相似性和相异性的高斯分布的均值和方差，这可以由训练集获得。</p>
<p>但是颜色直方图丢失了空间信息。</p>
<h3 id="协方差矩阵表示"><a href="#协方差矩阵表示" class="headerlink" title="协方差矩阵表示"></a>协方差矩阵表示</h3><p>（这个我也是不大明白，这里粗略的介绍下，后面搞明白了再补）<br>Henriques等2011年的一篇文章中使用协方差矩阵表示目标的表观，其光照、旋转等具有较好的鲁棒性。</p>
<p>目标之间匹配可能性定义如下</p>
<script type="math/tex; mode=display">P_{link}(T_i,T_j) \propto N(D_{ij};\overline D, \Sigma)</script><p>高斯分布的参数由训练集得到。<br>（待补）</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>还有一些其他方法，比如基于梯度的表示方法和词袋表示方法等。</p>
<p>上面介绍的一些表示方法都存在不同的优缺点，因此可以把他们结合起来利用。结合方式包含以下几种</p>
<ul>
<li><p>Boosting<br>比如real adaboost方法去筛选出一些鉴别能力较强的特征</p>
</li>
<li><p>Concatenating<br>比如将HoG，颜色直方图，光流等特征串联起来，然后再使用PCA进行降维$f$，得到目标表示。目标之间相似度可以定义为$S=exp(-(f-f’)^TM(f-f’))$，$M$是在线获得的协方差矩阵</p>
</li>
<li><p>Summation<br>这个是指不同表示获得的相似度进行加权求和。比如$P_{ij}=(1-\alpha)P_{ij,color}+\alpha P_{ij,depth}$</p>
</li>
<li><p>Product<br>这个主要是从概率的乘法公式考虑。比如目标$s_0$的某个潜在匹配$s_1$颜色直方图、形状、词袋表示为$h$，$s$，$b$的概率为$p(h|s_0)$，$p(s|s_0)$，$p(b|s_0)$，假设这些特征是独立的，那么</p>
<script type="math/tex; mode=display">p(s_1|s_0)=p(h,s,b|s_0)=p(h|s_0)p(s|s_0)p(b|s_0)</script></li>
<li><p>Cascading<br>这个是只采用级联的方式判断目标间的相似度，如果一种表示认为目标间匹配再继续使用下一种表示判断，出现不匹配的判断则停止，认为不匹配，知道所有的表示都判断完。</p>
</li>
</ul>
<h2 id="Motion-Model"><a href="#Motion-Model" class="headerlink" title="Motion Model"></a>Motion Model</h2><p>该成分主要考虑时域上的运动特性，比如速度的渐变等。</p>
<p>该模型主要采用的方式有两种：匀变速模型和变速模型</p>
<h3 id="匀变速模型"><a href="#匀变速模型" class="headerlink" title="匀变速模型"></a>匀变速模型</h3><p>顾名思义，该模型认为速度除了噪声干扰，应该是保持均匀变化的，比如加速度为0。</p>
<script type="math/tex; mode=display">
(x,y)_t=(x,y)_{t-1}+(u,v)_{t-1} · \Delta t+ \epsilon_{x,y} \\
(u,v)_t=(u,v)_{t-1}+\epsilon_{u,v}</script><p>这个应用很多，比如前面文章(MTT)连续能量函数最小化方法中使用全局速度累积变化来约束速度变化$C_{dyn}=\sum_{t=1}^{N-2} \sum_{i=1}^M ||v_i^t-v_i^{t+1}||^2$， 再比如之前基于层次关联的鲁棒多目标跟踪中使用速度刻画tracklets相连的概率</p>
<script type="math/tex; mode=display">P_s(T_i,T_j)=N(p_i^{tail}+v_i^L \Delta t;p_j^{head}, \Sigma_j^B)N(P-j^{head}-v_j^B \Delta t;p_i^{tail}, \Sigma_i^F)</script><p>如下图</p>
<p><img src="http://image.rexking6.top/img/clip1538822360.png" alt=""></p>
<p>上面两个模型仅考虑时间上tracklets的速度关系，还有方法考虑到空间中相邻tracklets的关系，比如tracklets近邻对$(T_1,T_2)$,$(T_3,T_4)$，如果已经知道$T_1$，$T_3$相匹配，计算$T_2$，$T_4$匹配的可能性。可以首先将$T_3$，$T_4$的起始时间对齐$t_y=max(t_3^b,t_3^b)$，然后计算在$t_y$时刻预测的两个目标距离与响应间距离的差异$\Delta p_1= p_1^e+v_1^{tail}(t_y-t_1^e)-(p_2^l+v_2^{tail}(t_y-t_2^e))$，$\Delta p_2=p_3^{t_y}-p_4^{t_y}$，其中上标$e$表示end，其距离差异可以认为服从高斯分布$N(\Delta p_1 - \Delta p_2 ;0,\Sigma_p)$，所以如果距离越小，也就表示$T_2$，$T_4$匹配的可能性越大。</p>
<p><img src="http://image.rexking6.top/img/clip1538822746.png" alt=""></p>
<p>除了加速度为0，还可以考虑加速度非零情况，比如</p>
<script type="math/tex; mode=display">P(\{\hat s _k\}|\{o_k\})= \prod_k x_k-\hat x _k; o, \Sigma_pN(v_k;0,\Sigma_v)N(a_k;0,\Sigma_a)</script><p>Note:对于这个表示我个人觉得并不合适，因为第二项速度的分布和第三项加速的的分布并不是独立的。</p>
<h3 id="非匀变速模型"><a href="#非匀变速模型" class="headerlink" title="非匀变速模型"></a>非匀变速模型</h3><p>有些获取的视频并不能保证每帧之间的速度是渐变的，比如低帧高速运动的物体中速度突然发生改变，那么显然匀变速假设就不合理了，所以也有非匀变速模型的提出。</p>
<p>Yang中使用了一些tracklets集合作为速度变化较大的tracklets之间的衔接部件，比如下图中$T_1$，$T_2$显然按照匀变速模型的处理方式，判断他们匹配的概率很小，然后使用衔接集合中的$T_0$，$T_0$的头节点和$T_1$的尾结点匹配度较高，$T_0$的尾节点和$T_1$的头结点匹配度较高，那么就可以认为$T_1$，$T_0$，$T_2$构成一个较长的tracklet。</p>
<p><img src="http://image.rexking6.top/img/clip1538823080.png" alt=""></p>
<h2 id="Interaction-Model"><a href="#Interaction-Model" class="headerlink" title="Interaction Model"></a>Interaction Model</h2><p>同一运动场景中的目标，往往运动轨迹会相互影响，比如晨跑中跑步的人往往倾向于扎堆，但又保持距离，随着跑步过程，相距很近的人慢慢的节奏就调整一致等等。 interaction Model包括两种典型的模型： social force model和crowd motion pattern model</p>
<h3 id="social-force-model"><a href="#social-force-model" class="headerlink" title="social force model"></a>social force model</h3><p>该模型认为每个个体受到两部分作用：自身作用和外部作用</p>
<ul>
<li><p><strong>自身作用</strong>:1. fidelity，首先目标的目的地不会发生改变；2. constancy，其次个体的速度一般不会发生跳变，包括大小和方向</p>
</li>
<li><p><strong>环境作用</strong>:1. attraction，首先同一类的个体往往距离很近；2. repulsion，其次每个目标都会有相应的舒适距离，不能太近；3. coherence，靠近的目标往往速度会比较相近。</p>
</li>
</ul>
<p>介绍几个模型：<br>Pellegrini（2009）模型中考虑了fidelity,constancy和repulsion。</p>
<p>repulsion，假设目标表示为$s_i=(p_i^t,v_i^t)$表示位置和速度，$D_{ij}(s_i)$表示$i$，$j$之间的最小舒适距离，对应舒适距离的能量项为$C_{ij}$，这个能量项形式可以很多，然后目标$i$和附近所有目标舒适距离的约束为$C_i^{inter}(S_i)=\sum_{i \neq j}w_{ij}C_{ij}$，其中$w_{ij}$表示权重。</p>
<p>fidelity，$C_i^f(s_i)=-\frac{(\overline p_i - p_i)v_i}{||\overline p_i-p_i||||v_i||}$，其中$\overline p _i$表示目标$i$的目的地位置。</p>
<p>constancy，$C_i^c(S_i)= (u_i-||v_i||)^2$，这里$u_i$是预估的目标i的均匀速度</p>
<p>所以最终interaction model为：$C_i(s_i)=C_i^{inter}+\lambda_1C_i^f+\lambda_2 C_i^c$</p>
<p>通过这个模型的优化，能够有效减小待匹配空间的大小，使数据关联的复杂度得到下降。</p>
<p>Yamaguchi (2011)除了类似与Pellegrini(2009)模型中的repulsion和constancy外还考虑了其他四个方面。那个目标表示为$s_i=(p_i,v_i,u_i,\overline p_i,S_i)$，分别是位置、速度、预估速度、目的地、所在group<br>速度：速度是渐变的$C_d(s_i)= Vert ||v_i^{t+1} - v_i^t||$，速度应该近似与预估速度$C_s(s_i)=(u_i-||v_i||)^2$，attraction，</p>
<script type="math/tex; mode=display">C_a(v;s_i,S_i)=\sum_{j \in \{S_i\}}(\frac{v_i v_j}{||v_i||||v_j||})(\frac{\Delta P_{ij}}{||\Delta p_{ij}||}\frac{v}{||v||})</script><p>其中第一项相当于刻画同一组内速度的余弦距离，第二项相当于计算同一组目标相对位置和速度的余弦，文中没有说v是什么速度，我有点困惑这里，为什么要计算第二项。。。。。。</p>
<p>Scovanner(2009)提出的模型中包含了4个部件。$C_{LM}$约束目标不要在space内大幅跳变，$C_{CV}$约束速度不变，$C_{dest}$保证目的地不变，$C_{AV}$约束目标之间的关系repulsion。</p>
<h3 id="crowd-motion-pattern-models"><a href="#crowd-motion-pattern-models" class="headerlink" title="crowd motion pattern models"></a>crowd motion pattern models</h3><p>该模型一般适用于过拥挤的环境，这中情况下，目标往往非常集中以至目标太小，表观等特征根本起不到作用，这时候就场景中特有的运动模识就起到了关键作用了。</p>
<p>Ali(2008)认为目标的行为往往收到周围环境的影响，包括场景结构和目标周围物体等。所以他们认为目标收到三个方面的作用。<br>Static Floor Fields (SFF),主要考虑的是scene structure，包括出现最多的路径区域和出口信息等。<br>Boundary Floor Field (BFF),主要考虑可能对目标产生遮挡的部分<br>Dynamic Floor Field (DFF),主要刻画目标周围其他目标的总的运动趋势<br>然后三个部分进行加权综合考虑</p>
<p>Zhao(2012)使用ND tensor voting的方法获得所有目标运动模式，然后使用这些模式进行预测位置和速度等</p>
<p>还有一些其他模型这里不再介绍。</p>
<h2 id="Exclusion-Model"><a href="#Exclusion-Model" class="headerlink" title="Exclusion Model"></a>Exclusion Model</h2><p>这部分主要是指1。一个目标只能出现在一条轨迹上；2. 一条轨迹只能对应一个目标，就是说多个目标不能出现在同一段轨迹上</p>
<h2 id="Occlusion-Handling"><a href="#Occlusion-Handling" class="headerlink" title="Occlusion Handling"></a>Occlusion Handling</h2><p>遮挡问题是多目标跟踪中的难点。处理遮挡问题的方法包括</p>
<ol>
<li><p>Part-to-whole,即将目标分解成若干个部件，当目标被部分遮挡时，还可以通过部件的匹配来推测整体目标的匹配</p>
</li>
<li><p>Hypothesize-and-test,假设检验的方法根据观测值去估计目标在其他未被检测区域是因为遮挡导致的概率，可以说是一种MAP方法</p>
</li>
<li><p>Detection-of-occlusion， 有些学者通过直接对遮挡的样本进行训练，然后使用分类器去检测并判断遮挡区域</p>
</li>
<li><p>Buffer-and-recover,这种策略当目标在下一帧中没找到匹配时，记下最后检测到的目标$s$，先把目标缓存起来，然后继续进行之后帧的匹配，如果在$T$帧内找到匹配的目标$s_t$，那么就将$s_t$，$s_t$连接起来，认为中间都被遮挡了，否则则认为轨迹在$s$处已经终止。</p>
</li>
<li><p>others，比如实际应用中也会根据相机位置和区域中心坐标来判断谁被遮挡了，有时这些策略也会联合使用。</p>
</li>
</ol>
<h1 id="经典方法"><a href="#经典方法" class="headerlink" title="经典方法"></a>经典方法</h1><p>多目标跟踪问题最早出现在雷达信号中目标运动轨迹的跟踪，如同时跟踪飞过来的多架敌人的飞机和多枚导弹。这些算法后来被借鉴用于机器视觉领域的多目标跟踪任务，随着计算机视觉领域的深入研究，近年来研究者对多目标跟踪算法从不同的方面进行了扩展。比如通过扩展单目标跟踪算法来支持多目标的情况，更多的工作从整个视频场景出发，对所有的目标轨迹做了统一的考虑。根据不同的分类标准，多目标跟踪算法有不同的分类方法。比如按照预测校正的跟踪和按照关联方式的跟踪，按照离线方式的关联跟踪和按照在线方式的跟踪，按照确定性推导的跟踪算法和按照概率统计最大化的跟踪等。</p>
<p>按照轨迹形成的时间顺序，多目标跟踪可以分为在线方式的跟踪算法以及离线形式的跟踪过程。如果跟踪的顺序是逐帧方式的：即为在线方式的目标跟踪方法。在线多目标跟踪与人眼实时跟踪目标过程类似，是对每个目标的状态进行估计，然后考虑整体状态的合理性进行约束。这个过程也可以简化为：获得每帧图像检测结果，把检测结果同已有的跟踪轨迹进行关联。如果跟踪算法运行是在视频已经获取结束，所有检测结果都已经提前获取情况下，这种跟踪方法为离线形式的多目标跟踪。离线多目标跟踪算法把检测结果集合作为观察，把轨迹看作检测集合的一种划分，因此跟踪问题转化为子集优化的过程。</p>
<p>按照跟踪算法形式化表示和优化框架过程，多目标跟踪可以分为确定性推导的跟踪和概率统计最大化的跟踪算法(如图)。</p>
<p><img src="http://image.rexking6.top/img/clip1538832799.png" alt=""></p>
<p>在确定性推导的多目标跟踪框架中，我们把检测和轨迹和匹配看作为二元变量，通过构</p>
<p>造一个整体的目标函数，我们求变量的最佳值，使得目标函数最优，从而得到检测和轨迹的最佳匹配。这种整体的目标函数可以构造为二部图匹配的匹配代价，网络流的代价和，或者直接构造为机器学习中的分类问题进行优化计算。在概率统计最大化的多目标跟踪方法中，检测和轨迹的关系通过概率模型进行形式化，例如基于贝叶斯推导的卡尔曼滤波和粒子滤波，基于构造马尔科夫图模型，通过样本构造学习模型参数，在跟踪过程中计算概率最大化的轨迹结果，而对马尔科夫图模型的一个直接的公式化方法就是构造能量函数，因此能量最小化也是一些多目标跟踪算法常用的方式。</p>
<p>在一些情况下，这两种方法的区分不是非常明确的。比如机器学习算中，也可以采用统计学习方法进行建模，而能量最小化过程的推导实际是一个确定性的步骤。</p>
<p>上述对于多目标跟踪算法的分类，对于帮助理解不同的跟踪算法具有重要作用，而真正决定算法性能的可能并不是这些跟踪算法框架，而是一些更加基础的内容，比如如何构造检测结果的表观模型才能反应目标的特征，采用什么样的特征才能使得同一个目标更像，不同目标差异较大。又比如，如何判断检测结果是不是非常准确，如果不准确的话，特征匹配该如何计算匹配相似度。</p>
<p>对于特征表示的研究，目前广泛采用深度学习的方法，基于深度学习的多目标跟踪算法我们后续介绍。下面我们对经典的多目标跟踪算法进行概要的介绍。</p>
<h2 id="多假设多目标跟踪算法"><a href="#多假设多目标跟踪算法" class="headerlink" title="多假设多目标跟踪算法"></a>多假设多目标跟踪算法</h2><p><img src="http://image.rexking6.top/img/clip1538833047.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833078.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833116.png" alt=""></p>
<h2 id="基于检测可信度的粒子滤波算法"><a href="#基于检测可信度的粒子滤波算法" class="headerlink" title="基于检测可信度的粒子滤波算法"></a>基于检测可信度的粒子滤波算法</h2><p><img src="http://image.rexking6.top/img/clip1538833208.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833225.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833301.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833317.png" alt=""></p>
<h2 id="基于最小代价流优化的多目标跟踪算法"><a href="#基于最小代价流优化的多目标跟踪算法" class="headerlink" title="基于最小代价流优化的多目标跟踪算法"></a>基于最小代价流优化的多目标跟踪算法</h2><p><img src="http://image.rexking6.top/img/clip1538833365.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833390.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833403.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833413.png" alt=""></p>
<h2 id="基于马尔科夫决策的多目标跟踪算法"><a href="#基于马尔科夫决策的多目标跟踪算法" class="headerlink" title="基于马尔科夫决策的多目标跟踪算法"></a>基于马尔科夫决策的多目标跟踪算法</h2><p><img src="http://image.rexking6.top/img/clip1538833445.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833470.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833495.png" alt=""></p>
<h2 id="基于局部流特征的近似在线多目标跟踪算法"><a href="#基于局部流特征的近似在线多目标跟踪算法" class="headerlink" title="基于局部流特征的近似在线多目标跟踪算法"></a>基于局部流特征的近似在线多目标跟踪算法</h2><p><img src="http://image.rexking6.top/img/clip1538833529.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833547.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833565.png" alt=""><br><img src="http://image.rexking6.top/img/clip1538833577.png" alt=""></p>
<h1 id="多目标跟踪的评价指标"><a href="#多目标跟踪的评价指标" class="headerlink" title="多目标跟踪的评价指标"></a>多目标跟踪的评价指标</h1><p>详见<a target="_blank" rel="noopener" href="http://www.cnblogs.com/YiXiaoZhou/p/5937980.html">多目标跟踪的评价指标</a>。</p>
<p>对于多目标追踪问题，我们认为一个理想的评价指标应该满足下述三点要求：</p>
<ol>
<li><p>所有出现的目标都要能够及时找到</p>
</li>
<li><p>找到目标位置要尽可能可真实目标位置一致</p>
</li>
<li><p>保持追踪一致性，避免跟踪目标的跳变 each object should be assigned a unique track ID which stays constant throughout the sequence.</p>
</li>
</ol>
<p>这三点要求给了设计MOT评价metric的启发：</p>
<ol>
<li><p>metrics应该能够评价tracker输出结果和真实结果location上的误差精度</p>
</li>
<li><p>metrics应该要能够反映出tracker长时间持续追踪目标结构的能力，即追踪到正确的目标轨迹的能力</p>
</li>
</ol>
<p>另外，关于metric的一般要求：</p>
<ol>
<li><p>metric参数(包括可调节的阈值等)要尽可能的少，才能使评估过程简单直接，实验结果可对比性较强</p>
</li>
<li><p>metric要尽可能的直观，易理解，特别是要容易区分不同类型的误差</p>
</li>
<li><p>metric应具有较强的适应性，对于MOT的评价指标而言要能够适应2D和3D的不同情况</p>
</li>
<li><p>metric的个数要尽可能的少，尽量少的指标却具有很高的表达能力</p>
</li>
</ol>
<p>论文根据上述的criteria提出了一种MOT问题系统、客观的评价过程。<br>假设对于每一帧的图像中有目标$\{o_1,…,o_n\}$，tracker在该帧输出的假设为$\{h_1,…,h_m\}$，那么评价过程包含以下步骤：</p>
<ol>
<li><p>建立目标和假设间的最优一一对应关系，称之为correspondence</p>
</li>
<li><p>对所有的correspondence，计算位置偏移误差(the error in the object’s position estimation)</p>
</li>
<li><p>累积结构误差(object configuration error)<br> a. 计算漏检数，objects for which no hypothesis was output<br> b. 计算虚警数，hypothesis for which no real objects exists<br> c. 跟踪目标发生跳变的次数，the number of occurrences where the tracking hypothesis for an object changed compared to previous frames</p>
</li>
</ol>
<h1 id="多目标跟踪常用的数据集"><a href="#多目标跟踪常用的数据集" class="headerlink" title="多目标跟踪常用的数据集"></a>多目标跟踪常用的数据集</h1><p><img src="http://image.rexking6.top/img/clip1538824511.png" alt=""></p>
<h1 id="公开代码的方法"><a href="#公开代码的方法" class="headerlink" title="公开代码的方法"></a>公开代码的方法</h1><p><img src="http://image.rexking6.top/img/clip1538824542.png" alt=""></p>
<p>还是公用的数据集比较好，这样可以直接对比别人的实验结果，不用自己重复实验了。</p>
<h1 id="Future-directions"><a href="#Future-directions" class="headerlink" title="Future directions"></a>Future directions</h1><ol>
<li><p>MOT with video adaptation. 大多数基于检测的MOT方法，往往适用范围依赖于离线学习获得的检测器，所以找到一个通用性更好，即适用于任何数据，的MOT方法是一个研究热点。</p>
</li>
<li><p>Balance between crowd density and completeness of objection representation. 往往在密集环境中目标都很小，以至于传统的表观表示方法鉴别能力很弱，如何才能找到一个对于小目标物体依然具有较强鉴别能力的表示方法仍是个研究方向。</p>
</li>
<li><p>MOT under multiple cameras. 多视角的数据能够恢复立体视觉，更加符合生物视觉，我更喜欢这个方向，一定可以挖到点什么东西。</p>
</li>
<li><p>Multiple 3D object tracking. 3D目标追踪，这个和3还是不一样的，多目视觉能构建3D环境，但构建不了3D目标</p>
</li>
<li><p>MOT with scene understanding. 结合场景理解的目标跟踪问题，比如场景的语义信息。</p>
</li>
<li><p>MOT with other computer vision tasks. 多个视觉任务相互结合，相辅相成。比如步态识别，姿势识别和目标跟踪放在一起处理，信息共享，效果可能也不错。</p>
</li>
</ol>
<p>个人觉得吧，人类对于多目标跟踪处理的就很不错，先别说机器超过人类，如果能保证机器具有和人类相同的处理机制，凭借其运算的精确性，结果就会比人类好。所以我更倾向于双目视觉和结合场景理解的MOT方法，另外，人类在处理多个目标跟踪时好像并不是同时的，应该类似于时间片的方式，我觉得也是值得借鉴的。    </p>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2018\09\24\SURF特征详解\" rel="bookmark">SURF特征详解</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2019\11\23\《Unknown-Identity-Rejection-Loss-Utilizing-Unlabeled-Data-for-Face-Recognition》笔记\" rel="bookmark">《Unknown Identity Rejection Loss: Utilizing Unlabeled Data for Face Recognition》笔记</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2018\10\06\背景检测\" rel="bookmark">背景检测</a></div>
    </li>
  </ul>

        <div class="reward-container">
  <div>一分一毛，也是心意。</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="Run-Qing Chen 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="Run-Qing Chen 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Run-Qing Chen
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://blog.rexking6.top/2018/10/06/%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%BB%BC%E8%BF%B0/" title="多目标跟踪综述">https://blog.rexking6.top/2018/10/06/多目标跟踪综述/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" rel="tag"># 计算机视觉</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/10/06/%E8%83%8C%E6%99%AF%E6%A3%80%E6%B5%8B/" rel="prev" title="背景检测">
      <i class="fa fa-chevron-left"></i> 背景检测
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/10/06/%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%BB%BC%E8%BF%B0/" rel="next" title="目标跟踪综述">
      目标跟踪综述 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

    <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MTT%E7%AE%80%E4%BB%8B"><span class="nav-number">2.</span> <span class="nav-text">MTT简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MTT%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%8C%96%E8%A1%A8%E8%BE%BE"><span class="nav-number">3.</span> <span class="nav-text">MTT的形式化表达</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MTT%E6%96%B9%E6%B3%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">4.</span> <span class="nav-text">MTT方法的分类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MTT%E6%96%B9%E6%B3%95%E5%8C%85%E5%90%AB%E7%9A%84component"><span class="nav-number">5.</span> <span class="nav-text">MTT方法包含的component</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Appearance-Model"><span class="nav-number">5.1.</span> <span class="nav-text">Appearance Model</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%83%8F%E7%B4%A0%E6%A8%A1%E6%9D%BF%E8%A1%A8%E7%A4%BA"><span class="nav-number">5.1.1.</span> <span class="nav-text">像素模板表示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%9C%E8%89%B2%E7%9B%B4%E6%96%B9%E5%9B%BE%E8%A1%A8%E7%A4%BA"><span class="nav-number">5.1.2.</span> <span class="nav-text">颜色直方图表示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E6%96%B9%E5%B7%AE%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA"><span class="nav-number">5.1.3.</span> <span class="nav-text">协方差矩阵表示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">5.1.4.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Motion-Model"><span class="nav-number">5.2.</span> <span class="nav-text">Motion Model</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%80%E5%8F%98%E9%80%9F%E6%A8%A1%E5%9E%8B"><span class="nav-number">5.2.1.</span> <span class="nav-text">匀变速模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%9E%E5%8C%80%E5%8F%98%E9%80%9F%E6%A8%A1%E5%9E%8B"><span class="nav-number">5.2.2.</span> <span class="nav-text">非匀变速模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interaction-Model"><span class="nav-number">5.3.</span> <span class="nav-text">Interaction Model</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#social-force-model"><span class="nav-number">5.3.1.</span> <span class="nav-text">social force model</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#crowd-motion-pattern-models"><span class="nav-number">5.3.2.</span> <span class="nav-text">crowd motion pattern models</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exclusion-Model"><span class="nav-number">5.4.</span> <span class="nav-text">Exclusion Model</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Occlusion-Handling"><span class="nav-number">5.5.</span> <span class="nav-text">Occlusion Handling</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%8F%E5%85%B8%E6%96%B9%E6%B3%95"><span class="nav-number">6.</span> <span class="nav-text">经典方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E5%81%87%E8%AE%BE%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%AE%97%E6%B3%95"><span class="nav-number">6.1.</span> <span class="nav-text">多假设多目标跟踪算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%A3%80%E6%B5%8B%E5%8F%AF%E4%BF%A1%E5%BA%A6%E7%9A%84%E7%B2%92%E5%AD%90%E6%BB%A4%E6%B3%A2%E7%AE%97%E6%B3%95"><span class="nav-number">6.2.</span> <span class="nav-text">基于检测可信度的粒子滤波算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%9C%80%E5%B0%8F%E4%BB%A3%E4%BB%B7%E6%B5%81%E4%BC%98%E5%8C%96%E7%9A%84%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%AE%97%E6%B3%95"><span class="nav-number">6.3.</span> <span class="nav-text">基于最小代价流优化的多目标跟踪算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E5%86%B3%E7%AD%96%E7%9A%84%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%AE%97%E6%B3%95"><span class="nav-number">6.4.</span> <span class="nav-text">基于马尔科夫决策的多目标跟踪算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%B1%80%E9%83%A8%E6%B5%81%E7%89%B9%E5%BE%81%E7%9A%84%E8%BF%91%E4%BC%BC%E5%9C%A8%E7%BA%BF%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%AE%97%E6%B3%95"><span class="nav-number">6.5.</span> <span class="nav-text">基于局部流特征的近似在线多目标跟踪算法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E7%9A%84%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="nav-number">7.</span> <span class="nav-text">多目标跟踪的评价指标</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="nav-number">8.</span> <span class="nav-text">多目标跟踪常用的数据集</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AC%E5%BC%80%E4%BB%A3%E7%A0%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">9.</span> <span class="nav-text">公开代码的方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Future-directions"><span class="nav-number">10.</span> <span class="nav-text">Future directions</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Run-Qing Chen"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Run-Qing Chen</p>
  <div class="site-description" itemprop="description">覆苍天以为衾，卧大地以为庐。</div>
</div>


   <div class="feed-link motion-element">
     <a href="/atom.xml" rel="alternate">
       <i class="fa fa-rss"></i>
       RSS
     </a>
   </div>
 
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">174</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/RexKing6" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;RexKing6" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1010026261@qq.com" title="E-Mail → mailto:1010026261@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.zxpblog.cn/" title="https:&#x2F;&#x2F;www.zxpblog.cn&#x2F;" rel="noopener" target="_blank">赵小平</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://whitepuffer.github.io/" title="https:&#x2F;&#x2F;whitepuffer.github.io&#x2F;" rel="noopener" target="_blank">江斓</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://kexue.fm/" title="https:&#x2F;&#x2F;kexue.fm&#x2F;" rel="noopener" target="_blank">科学空间</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://yongyuan.name/" title="https:&#x2F;&#x2F;yongyuan.name&#x2F;" rel="noopener" target="_blank">袁勇</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/abcjennifer" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;abcjennifer" rel="noopener" target="_blank">Rachel Zhang</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://dmkf.xyz/" title="http:&#x2F;&#x2F;dmkf.xyz&#x2F;" rel="noopener" target="_blank">代码咖啡</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://wuxiaolong.me/" title="http:&#x2F;&#x2F;wuxiaolong.me&#x2F;" rel="noopener" target="_blank">吴小龙同学</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.tennfy.com/" title="http:&#x2F;&#x2F;www.tennfy.com&#x2F;" rel="noopener" target="_blank">TENNFY WU</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">粤ICP备16049735号 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fab fa-accessible-icon"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Run-Qing Chen</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">2.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">33:38</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"dOMRIGavgWnKuSQ5IqJS3ckT-gzGzoHsz","app_key":"qMh3SHPhOGOhYa5GA251PGcy","server_url":null,"security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
